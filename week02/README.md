# 我们在数据库操作的时候，比如 dao 层中当遇到一个 sql.ErrNoRows 的时候，是否应该 Wrap 这个 error，抛给上层。为什么，应该怎么做请写出代码？

> 我觉得是应该抛给上层，因为我们不仅仅是一个DAO内部需要知晓异常，
> 因为在上层我们的service层还可能是基于多个DAO组合调用的，这个时候如果需要一致性
> 就需要用到事务，不管是XA、TCC还是普通事务，
> 我们都需要在外层能感知单个DAO的error
> 从而决定别的DAO是否应该回滚，还是补偿

## 目前两个表 一个 goods，一个order，如果产品存在才生成订单的简单服务